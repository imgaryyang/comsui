SET FOREIGN_KEY_CHECKS=0;
DELETE from t_product_category;
DELETE from t_source_repository;
DELETE FROM financial_contract_configuration;
INSERT INTO `t_source_repository` (`id`, `business_type`, `source_code`, `signature`, `source_file_path`, `add_time`, `last_modify_time`, `author`, `compile_import`) VALUES ('15', 'importAssetPackage/weifang/10002', 'public boolean evaluate(SandboxDataSetHandler sandboxDataSetHandler, Map<String, String> preRequest, Map<String, String> postRequest, Log logger) {\r\n        logger.info(\"start to get param\");\r\n        logger.info(\"param : \" + preRequest);\r\n        String jsonR = (String) preRequest.getOrDefault(\"r\", \"\");\r\n        if(StringUtils.isEmpty(jsonR)){\r\n            logger.error(\"r 利息 is empty\");\r\n            return false;\r\n        }\r\n        BigDecimal r =  new BigDecimal(jsonR);\r\n        logger.info(\"r : \"+ r);\r\n\r\n        String jsonPenalty = (String) preRequest.getOrDefault(\"penalty\", \"\");\r\n        String jsonPrincipal = (String) preRequest.getOrDefault(\"principal\", \"\");\r\n\r\n        logger.info(\"jsonInterest : \" + jsonPenalty);\r\n        logger.info(\"jsonPrincipal : \" + jsonPrincipal);\r\n\r\n        List<BigDecimal> penaltys = JsonUtils.parseArray(jsonPenalty, BigDecimal.class);\r\n        List<BigDecimal> principals = JsonUtils.parseArray(jsonPrincipal, BigDecimal.class);\r\n        if(penaltys == null){\r\n            logger.info(\"penaltys is null\");\r\n            return false;\r\n        }\r\n        if(principals == null){\r\n            logger.info(\"principals is null\");\r\n            return false;\r\n        }\r\n\r\n        String jsonOverdueDay = (String) preRequest.getOrDefault(\"overdueDay\", \"\");\r\n        if(StringUtils.isEmpty(jsonOverdueDay)){\r\n            logger.error(\"overdueDay is empty\");\r\n            return false;\r\n        }\r\n        int overdueDay = Integer.parseInt(jsonOverdueDay);\r\n        logger.info(\"overdueDay : \" + overdueDay);\r\n\r\n        for(int i = 0;i < penaltys.size();i ++){\r\n            logger.info(\"old penalty[{\" + i + \"}] : \"+ ((BigDecimal) penaltys.get(i)));\r\n            logger.info(\"old principal[{\" + i + \"}] : \"+ ((BigDecimal) principals.get(i)));\r\n\r\n            BigDecimal penalty = ((BigDecimal) penaltys.get(i)).setScale(2, BigDecimal.ROUND_HALF_UP);\r\n            BigDecimal principal = ((BigDecimal) principals.get(i)).multiply(new BigDecimal(0.24*overdueDay/360).multiply(r.add(new BigDecimal(1)))).setScale(2, BigDecimal.ROUND_HALF_UP);\r\n\r\n            logger.info(\"after calculating, the penalty[{\" + i + \"}] : \"+ penaltys);\r\n            logger.info(\"after calculating, the principal[{\" + i + \"}] : \"+ principal);\r\n            if(penalty.compareTo(principal) <= 0 ? false :true){\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }', '86f961fc554b3ce4f7c520c4d5fa6fcf', NULL, '2017-11-07 10:16:48', '2017-11-07 10:16:48', 'zhushiyun', 'com.suidifu.matryoshka.customize.CustomizeServices,com.suidifu.matryoshka.handler.SandboxDataSetHandler,com.zufangbao.sun.utils.*,java.math.BigDecimal,java.util.*');
INSERT INTO `t_product_category` (`id`, `uuid`, `product_lv_1_code`, `product_lv_1_name`, `product_lv_2_code`, `product_lv_2_name`, `product_lv_3_code`, `product_lv_3_name`, `pre_process_interface_url`, `post_process_interface_url`, `pre_process_script`, `status`, `script_md_5_version`, `date_field_one`, `date_field_two`, `date_field_three`, `long_field_one`, `long_field_two`, `long_field_three`, `string_field_one`, `string_field_two`, `string_field_three`, `decimal_field_one`, `decimal_field_two`, `decimal_field_three`, `delay_task_config_uuid`) VALUES ('119', '77ebae2a-c42d-11e7-a1b1-502b73c136df', 'weifang', '潍坊', 'importAssetPackage', '导入资产包', '10002', '罚息', 'importAssetPackage/weifang/10002', NULL, NULL, '1', '1', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `financial_contract_configuration` (`id`, `uuid`, `financial_contract_uuid`, `code`, `content`) VALUES ('1', '5fb1cc84-c42c-11e7-a1b1-502b73c136df', '984149f1-cb43-410c-a789-d8f4bba123b6', 'weifang_interest_rate', '0.1');

SET FOREIGN_KEY_CHECKS=1;