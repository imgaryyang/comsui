define(function(require,exports,module){function e(e,t){this.$element=e;var n=this.namespace=_.uniqueId("dragmove");this.START_EVENT="mousedown."+n+" touchstart."+n,this.MOVE_EVENT="mousemove."+n+" touchmove."+n,this.END_EVENT="mouseup."+n+" touchend."+n;var a,i,r,f,s;e.find(t.handler).css("cursor","move"),e.on(this.START_EVENT,t.handler,function(t){if(a=!0,i=t.originalEvent.pageX-e.offset().left,r=t.originalEvent.pageY-e.offset().top,"mousedown"==t.type&&(f=e),"touchstart"==t.type&&(s=e),null==window.mozInnerScreenX)return!1}),o.on(this.MOVE_EVENT,function(e){"mousemove"==e.type&&a&&f.offset({left:e.originalEvent.pageX-i,top:e.originalEvent.pageY-r}),"touchmove"==e.type&&a&&s.offset({left:e.originalEvent.pageX-i,top:e.originalEvent.pageY-r})}).on(this.END_EVENT,function(){a=!1})}var t=jQuery,o=t(document);e.prototype.remove=function(){this.$element.off(this.namespace),o.off(this.namespace),o.off(this.namespace)},t.fn.dragmove=function(){var o,n,a=arguments[0];return"string"==typeof a?n=a:o="object"==typeof a?a:{},this.each(function(){var a=t(this),i=a.data("dragmove"),r=a.data("dragable");!i&&o&&r!==!1&&(i=new e(a,o),a.data("dragmove",i)),i&&n&&i[n].call(i)})},t(document).on("click","[data-toggle=dragmove]",function(e){var o=t(e.currentTarget),n=o.data("dragmove");if(!n){var a=o.data();o.dragmove(a)}})});