define(function(require,exports,module){var n=require("baseView/tableContent"),e=require("component/popupTip"),t=jQuery,i=window.location,o=global_config.root,s=n,c=Backbone.View.extend({el:".static-info-wrapper",surrenderAction:"../leasing-contract/end",checkoutAction:"../leasing-contract/checkout",events:{"click .surrender":"onSurrender","click .checkout":"onCheckout","click .abolition":"onAbolition"},initialize:function(n){this.businessContractUuid=n.businessContractUuid},onSurrender:function(n){var s=this.businessContractUuid,c=function(n){0==n.code?(e.show("退租成功"),e.once("hidden",function(){i.reload()})):(e.show(n.message),e.once("hidden",function(){i.href=o+"/billing-plan/leasing-bill-list/index?businessContractUuid="+s}))},a={url:this.surrenderAction,data:{businessContractUuid:s},type:"post",dataType:"json",success:c};t.ajax(a)},onCheckout:function(n){var o=this.businessContractUuid,s=function(n){e.show(0==n.code?"退房成功":"退房失败"),e.once("hidden",function(){i.reload()})},c={url:this.checkoutAction,data:{businessContractUuid:o},type:"post",dataType:"json",success:s};t.ajax(c)},onAbolition:function(n){n.preventDefault();var s=this.businessContractUuid,c=o+"/business-contract/leasing-contract/delete/"+s,a=function(n){var n=JSON.parse(n);e.show(n.message),0==n.code&&e.once("hidden",function(){i.href=o+"/business-contract/leasing-contract-list/index"})},u={url:c,type:"post",success:a};t.ajax(u)}});exports.IndexLeaseView=s,exports.DetailLeaseView=c});