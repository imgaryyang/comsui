define(function(require,exports,module){var t=(require("component/popupTip"),require("baseView/tableContent")),o=require("./repurchase-model").RepurchaseModel,s=jQuery,i=global_config.root,e=t.extend({actions:{detail:i+"/paymentchannel/config/detail"},initialize:function(){e.__super__.initialize.apply(this,arguments),this.model=new o,this.$showPopover=s(".statistical-amount"),this.listenTo(this,"show-popover:amountStatistics",this.showAmountStatisticsPopover)},showAmountStatisticsPopover:function(t){t&&this.queryAmountStatistics()},queryAmountStatistics:function(){var t=this.collectParams(),o={dataType:"json",url:global_config.root+"/repurchasedoc/amountStatistics",data:t};o.success=function(t){var o=this.$showPopover.data("bs.popover");if(0==t.code){var s=0;_.isEmpty(t.data)||(s=t.data.repurchaseAmount.formatMoney(2,""));var i='<div><span class="text-muted">回购金额:</span>'+s+"</div>";o.options.content=i}else o.options.content=t.message;this.$showPopover.popover("show")}.bind(this),s.ajax(o)}});module.exports=e});