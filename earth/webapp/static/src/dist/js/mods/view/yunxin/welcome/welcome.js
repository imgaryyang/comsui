define(function(require,exports,module){var e=(require("scaffold/path"),require("component/dashboard")),t=(sessionStorage,global_const.loadingImg,global_config.root),i=Backbone.View.extend({el:".welcome",events:{"click .goback":"onClickBack"},initialize:function(i){var i={url:t+"/notice/notice-released-list",type:"get",dataType:"JSON"},n=this;i.success=function(e){if(0==e.code){var t=e.data.list;if(t.length>0){for(var i="",a=0;a<t.length;a++)a<3&&(i+='<li><a herf="#" data-dashboard-id="notice" data-mtitle="'+unescape(t[a].title)+'" " data-releaseTime="'+t[a].releaseTime+'">'+unescape(t[a].title)+'</a><span class="content hide">'+t[a].content+"</span></li>");i=i+'<li><a herf="#" data-dashboard-id="notice" data-mtitle="'+unescape(t[0].title)+'" data-releaseTime="'+t[0].releaseTime+'">'+unescape(t[0].title)+'</a><span class="content hide">'+t[0].content+"</span></li>",$(".notice-block").find("ul").html(i),n.$(".welcome-notice").removeClass("hide"),n.circle()}}},$.ajax(i),this.index=0;var n=this,a=$(".web-g-hd .btn-toggle-dashboard");a.on("click",function(e){view=$(e.target).parent().attr("class"),n.toggle(view)}),$(document).on("mouseover",'[data-dashboard-id="notice"]',function(e){window.clearInterval(n.time)}),$(document).on("mouseleave",'[data-dashboard-id="notice"]',function(e){n.circle()}),$(document).on("click",'[data-dashboard-id="notice"]',function(t){var i=$(t.target),n=i.data();n.content=i.parents("li").find(".content").html(),e.showView("noticeDetail",n)})},circle:function(){var e=$(".notice-block>ul"),t=this;e.find("li").length>2&&(t.time=setInterval(function(){t.index++,t.index==e.find("li").length&&(t.index=1,e.css({top:"0px"})),e.animate({top:20*-t.index+"px"})},2500))},toggle:function(t){"item-todo"==t?e.showView("toDo"):e.showView("notice")}});exports.WelcomeView=i});